import { Editor, Element } from "slate";
import { nodeIsTextNode } from "../types";
export var isLastSelectedElementEmpty = function(editor) {
    var _currentlySelectedNodes, _currentlySelectedNodes1, _lastSelectedNode__children, _lastSelectedNode__children1;
    if (!editor.selection) return false;
    var currentlySelectedNodes = Array.from(Editor.nodes(editor, {
        at: Editor.unhangRange(editor, editor.selection),
        match: function(n) {
            return !Editor.isEditor(n) && Element.isElement(n) && (!n.type || n.type === "p");
        }
    }));
    var lastSelectedNode = (_currentlySelectedNodes1 = currentlySelectedNodes) === null || _currentlySelectedNodes1 === void 0 ? void 0 : _currentlySelectedNodes1[((_currentlySelectedNodes = currentlySelectedNodes) === null || _currentlySelectedNodes === void 0 ? void 0 : _currentlySelectedNodes.length) - 1];
    return lastSelectedNode && Element.isElement(lastSelectedNode[0]) && (!lastSelectedNode[0].type || lastSelectedNode[0].type === "p") && nodeIsTextNode((_lastSelectedNode__children = lastSelectedNode[0].children) === null || _lastSelectedNode__children === void 0 ? void 0 : _lastSelectedNode__children[0]) && ((_lastSelectedNode__children1 = lastSelectedNode[0].children) === null || _lastSelectedNode__children1 === void 0 ? void 0 : _lastSelectedNode__children1[0].text) === "";
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3NyYy9hZG1pbi9jb21wb25lbnRzL2Zvcm1zL2ZpZWxkLXR5cGVzL1JpY2hUZXh0L2VsZW1lbnRzL2lzTGFzdFNlbGVjdGVkRWxlbWVudEVtcHR5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVkaXRvciwgRWxlbWVudCB9IGZyb20gJ3NsYXRlJztcbmltcG9ydCB7IG5vZGVJc1RleHROb2RlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgaXNMYXN0U2VsZWN0ZWRFbGVtZW50RW1wdHkgPSAoZWRpdG9yOiBFZGl0b3IpOiBib29sZWFuID0+IHtcbiAgaWYgKCFlZGl0b3Iuc2VsZWN0aW9uKSByZXR1cm4gZmFsc2U7XG5cbiAgY29uc3QgY3VycmVudGx5U2VsZWN0ZWROb2RlcyA9IEFycmF5LmZyb20oRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgIGF0OiBFZGl0b3IudW5oYW5nUmFuZ2UoZWRpdG9yLCBlZGl0b3Iuc2VsZWN0aW9uKSxcbiAgICBtYXRjaDogKG4pID0+ICFFZGl0b3IuaXNFZGl0b3IobikgJiYgRWxlbWVudC5pc0VsZW1lbnQobikgJiYgKCFuLnR5cGUgfHwgbi50eXBlID09PSAncCcpLFxuICB9KSk7XG5cbiAgY29uc3QgbGFzdFNlbGVjdGVkTm9kZSA9IGN1cnJlbnRseVNlbGVjdGVkTm9kZXM/LltjdXJyZW50bHlTZWxlY3RlZE5vZGVzPy5sZW5ndGggLSAxXTtcblxuICByZXR1cm4gbGFzdFNlbGVjdGVkTm9kZSAmJiBFbGVtZW50LmlzRWxlbWVudChsYXN0U2VsZWN0ZWROb2RlWzBdKVxuICAgICYmICghbGFzdFNlbGVjdGVkTm9kZVswXS50eXBlIHx8IGxhc3RTZWxlY3RlZE5vZGVbMF0udHlwZSA9PT0gJ3AnKVxuICAgICYmIG5vZGVJc1RleHROb2RlKGxhc3RTZWxlY3RlZE5vZGVbMF0uY2hpbGRyZW4/LlswXSlcbiAgICAmJiBsYXN0U2VsZWN0ZWROb2RlWzBdLmNoaWxkcmVuPy5bMF0udGV4dCA9PT0gJyc7XG59O1xuIl0sIm5hbWVzIjpbIkVkaXRvciIsIkVsZW1lbnQiLCJub2RlSXNUZXh0Tm9kZSIsImlzTGFzdFNlbGVjdGVkRWxlbWVudEVtcHR5IiwiZWRpdG9yIiwiY3VycmVudGx5U2VsZWN0ZWROb2RlcyIsImxhc3RTZWxlY3RlZE5vZGUiLCJzZWxlY3Rpb24iLCJBcnJheSIsImZyb20iLCJub2RlcyIsImF0IiwidW5oYW5nUmFuZ2UiLCJtYXRjaCIsIm4iLCJpc0VkaXRvciIsImlzRWxlbWVudCIsInR5cGUiLCJsZW5ndGgiLCJjaGlsZHJlbiIsInRleHQiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLE1BQU0sRUFBRUMsT0FBTyxRQUFRLFFBQVE7QUFDeEMsU0FBU0MsY0FBYyxRQUFRLFdBQVc7QUFFMUMsT0FBTyxJQUFNQyw2QkFBNkIsU0FBQ0M7UUFRU0MseUJBQXpCQSwwQkFJTEMsNkJBQ2ZBO0lBWkwsSUFBSSxDQUFDRixPQUFPRyxTQUFTLEVBQUUsT0FBTztJQUU5QixJQUFNRix5QkFBeUJHLE1BQU1DLElBQUksQ0FBQ1QsT0FBT1UsS0FBSyxDQUFDTixRQUFRO1FBQzdETyxJQUFJWCxPQUFPWSxXQUFXLENBQUNSLFFBQVFBLE9BQU9HLFNBQVM7UUFDL0NNLE9BQU8sU0FBQ0M7bUJBQU0sQ0FBQ2QsT0FBT2UsUUFBUSxDQUFDRCxNQUFNYixRQUFRZSxTQUFTLENBQUNGLE1BQU8sQ0FBQSxDQUFDQSxFQUFFRyxJQUFJLElBQUlILEVBQUVHLElBQUksS0FBSyxHQUFFOztJQUN4RjtJQUVBLElBQU1YLG9CQUFtQkQsMkJBQUFBLG9DQUFBQSwrQ0FBQUEsd0JBQXdCLENBQUNBLEVBQUFBLDBCQUFBQSxvQ0FBQUEsOENBQUFBLHdCQUF3QmEsTUFBTSxJQUFHLEVBQUU7SUFFckYsT0FBT1osb0JBQW9CTCxRQUFRZSxTQUFTLENBQUNWLGdCQUFnQixDQUFDLEVBQUUsS0FDMUQsQ0FBQSxDQUFDQSxnQkFBZ0IsQ0FBQyxFQUFFLENBQUNXLElBQUksSUFBSVgsZ0JBQWdCLENBQUMsRUFBRSxDQUFDVyxJQUFJLEtBQUssR0FBRSxLQUM3RGYsZ0JBQWVJLDhCQUFBQSxnQkFBZ0IsQ0FBQyxFQUFFLENBQUNhLFFBQVEsY0FBNUJiLGtEQUFBQSwyQkFBOEIsQ0FBQyxFQUFFLEtBQ2hEQSxFQUFBQSwrQkFBQUEsZ0JBQWdCLENBQUMsRUFBRSxDQUFDYSxRQUFRLGNBQTVCYixtREFBQUEsNEJBQThCLENBQUMsRUFBRSxDQUFDYyxJQUFJLE1BQUs7QUFDbEQsRUFBRSJ9